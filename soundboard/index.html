<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Soundboard</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="colors.css" async />
    <link href="https://fonts.cdnfonts.com/css/sf-pixelate" rel="stylesheet">
</head>
<body>
    <header>
        <button id="preload">Preload everything</button>
        <button id="bug">Loop silence (click to fix a Chrome switchable GPU lag bug)</button>
        <button id="stop">Stop all sounds</button>
    </header>
    <p>Sounds are preloaded when you hover your mouse over the button.</p>
    <p><span style="color:red;font-weight:bold;font-style:italic;">New!</span> Right click to copy a link to the audio file to your clipboard.</p>
    <div class="flex">
        <button class="sound slate" data-src="sounds/quesadilla.ogg">
             <div class="img" style="background-image:url('images/quesadilla.png')"></div>
             <div class="hidden">Quesadilla?</div>
        </button>
        <button class="sound slate" data-src="sounds/caegageegah.ogg">
             <div class="img" style="background-image:url('images/caegageegah.png')"></div>
             <div class="hidden">caegageegah</div>
        </button>
        <button class="sound green" data-src="sounds/whocares.ogg">
             <div class="img" style="background-image:url('images/whocares.png')"></div>
             <div class="hidden">
                <div class="tiny">AOSTH Robotnik</div>
                <div>Who cares?</div>
            </div>
        </button>
        <button class="sound red" data-src="sounds/i_feel_like_shit.ogg">
             <div class="img" style="background-image:url('images/pipe.png')"></div>
             <div class="hidden">
                <div class="tiny">Postal 2</div>
                <div>I feel like shit.</div>
            </div>
        </button>
        <button class="sound" data-src="sounds/yeah.mp3">
            <div style="font-size: 2em;">yeah.</div>
        </button>
        <button class="sound blue" data-src="sounds/boowomp.ogg">
            <div class="img" style="background-image:url('images/boowomp.png')"></div>
            <div class="hidden">
                <div class="tiny">Spongebob</div>
                <div>Boo-womp</div>
            </div>
        </button>
        <button class="sound blue" data-src="sounds/fail.mp3">
            <div class="img" style="background-image:url('images/sponge.png')"></div>
            <div class="hidden">
                <div class="tiny">Spongebob</div>
                <div>That one failure noise</div>
            </div>
        </button>
        <button class="sound slate" data-src="sounds/kill_jester.ogg">
            <div class="img" style="background-image:url('images/killjester.png')"></div>
            <div class="hidden">
                <div class="tiny">Limmy's Show<br/>Adventure Call</div>
                <div>Kill Jester</div>
            </div>
        </button>
        <button class="sound slate" data-src="sounds/blood_i_live_again.ogg">
            <div class="img" style="background-image:url('images/caleb.png')"></div>
            <div class="hidden">
                <div class="tiny">Blood<br/>Caleb</div>
                <div>I live again!</div>
            </div>
        </button>
        <button class="sound" data-src="sounds/bruhHQ.ogg">
            <div>Vine Boom</div>
        </button>
        <button class="sound blue" data-src="sounds/bye-bye.ogg">
            <div class="img" style="background-image:url('images/sadworld.png')"></div>
            <div class="hidden">
                <div class="tiny">Sadworld<br/></div>
                <div>Bye bye, bye bye!</div>
            </div>
        </button>
        <button class="sound blue" data-src="sounds/yippee.ogg">
            <div class="img" style="background-image:url('images/tbh.png')"></div>
            <div class="hidden">
                <div class="tiny">tbh<br/></div>
                <div>Yippee!</div>
            </div>
        </button>
    </div>
    <h1>Confusion</h1>
    <div class="flex">
        <button class="sound slate" data-src="sounds/what_in_the_goddamn.ogg">
            <div class="img" style="background-image:url('images/benny.png')"></div>
            <div class="hidden">
                <div class="tiny">Fallout: New Vegas</div>
                <div class="tiny">Benny</div>
                <div>What in the goddamn?</div>
                <div style="font-weight:bold;">(LOUD)</div>
            </div>
        </button>
        <button class="sound orange" data-src="sounds/yeah_that_makes_sense.ogg">
            <div style="font-weight:bold;font-size:1.015em;font-style:italic;text-shadow: 2px 2px 5px black">YEAH THAT MAKES SENSE</div>
        </button>
        <button class="sound red" data-src="sounds/what_the_hell_is_this.ogg">
            <div class="img" style="background-image:url('images/what_the_hell_is_this.png')"></div>
            <div class="hidden">
                <div class="tiny">Devil May Cry 4</div>
                <div class="tiny">Dante</div>
                <div>What the hell is this?</div>
            </div>
        </button>
    </div>
    <h1>Failure</h1>
    <div class="flex">
        <button class="sound" data-src="sounds/losing_horn.ogg">
            <div>The Price Is Right Losing Horn</div>
        </button>
        <button class="sound red" data-src="sounds/kot.ogg">
            <div class="img" style="background-image:url('images/kot.png')"></div>
            <div class="hidden">
                <div class="tiny">Homestar Runner</div>
                <div class="tiny">The King of Town</div>
                <div>Boooooo!</div>
            </div>
        </button>
        <button  class="sound blue" data-src="sounds/failure.ogg">
            <div class="img" style="background-image:url('images/failure.png')"></div>
            <div class="hidden">
                <div class="tiny">Super Smash Bros. Melee</div>
                <div>Failure</div>
            </div>
        </button>
    </div>
    <h1>Death</h1>
    <div class="flex">
        <button class="sound beige" data-src="sounds/popeyes_biscuit.ogg">
            <div>Mmm, Popeye's Biscuit...</div>
        </button>
        <button class="sound red" data-src="sounds/oof.ogg">
            <div class="img" style="background-image:url('images/oof.png')"></div>
            <div class="hidden">Old Roblox death noise</div>
        </button>
        <button class="sound beige" data-src="sounds/minecraft.ogg">
            <div class="img" style="background-image:url('images/steve.png')"></div>
            <div class="hidden">Old Minecraft hurt noise</div>
        </button>
        <button class="sound red" data-src="sounds/mario_oof.ogg">
            <div class="img" style="background-image:url('images/mario_bonk.png')"></div>
            <div class="hidden">
                <div class="tiny">Super Mario 64</div>
                <div>Oof!</div>
            </div>
        </button>
    </div>
    <h1>Anger</h1>
    <div class="flex">
        <button class="sound slate" data-src="sounds/i_should_kick_your_fuckin_ass.ogg">
            <div class="img" style="background-image:url('images/i_should_kick_your_fuckin_ass.png')"></div>
            <div class="hidden">
                <div class="tiny">Fallout 2</div><div class="tiny">Enclave Soldier</div>
                <div>I should kick your fuckin' ass</div>
            </div>
        </button>
        <button class="sound red" data-src="sounds/butt.ogg">
            <div class="img" style="background-image:url('images/BUTT.png')"></div>
            <div class="hidden">
                <div class="tiny">The Fesh Pince of Blair</div>
                <div class="tiny">Will</div>
                <div style="font-size:0.8em;">Uncle Phil you gotta kick that man's <b><i>BUTT</b></i>.</div>
            </div>
        </button>
    </div>
    <h1>Combat</h1>
    <div class="flex">
        <button class="sound slate" data-src="sounds/COUNTER.ogg">
            <div class="img" style="background-image:url('images/counter.png')"></div>
            <div class="hidden">
                <div class="tiny">Guilty Gear Strive</div>
                <div>Counter!</div>
            </div>
        </button>
    </div>
    <h1>Combat Over</h1>
    <div class="flex">
        <button class="sound red" data-src="sounds/DESTROYED.ogg">
            <div class="img" style="background-image:url('images/DESTROYED.png')"></div>
            <div class="hidden">
                <div class="tiny">Guilty Gear Xrd</div>
                <div>Destroyed!</div>
            </div>
        </button>
        <button class="sound pink" data-src="sounds/retired.ogg">
            <div class="img" style="background-image:url('images/retired!.png')"></div>
            <div class="hidden">
                <div class="tiny">JoJo Eyes of Heaven:</div>
                <div>Retired!</div>
            </div>
        </button>
    </div>
    <h1>CvS Announcer Lines</h1>
    <div class="flex">
        <button class="sound slate" data-src="sounds/cvs/this_battle_is_about_to_explode.ogg">
            <div>This battle is about to explode!</div>
        </button>
        <button class="sound red" data-src="sounds/cvs/big_damage.ogg">
            <div><i>That's</i> what we like to call <i>big damage!</i></div>
        </button>
        <button class="sound" data-src="sounds/cvs/calm_before_the_storm.ogg">
            <div>You can feel the calm before the storm...</div>
        </button>
        <button class="sound pink" data-src="sounds/cvs/sneaky.ogg">
            <div>Wow, they came out with a sneaky surprise attack...!</div>
        </button>
    </div>
    <h1>The Castlevania SOTN Intro</h1>
    <div class="flex small pixelate">
        <button class="sound blue" data-src="sounds/sotn/1-die-monster.ogg">
            <div>Die, monster.</div>
        </button>
        <button class="sound blue" data-src="sounds/sotn/2-you-dont-belong-in-this-world.ogg">
            <div>You don't belong in this world!</div>
        </button>
        <button class="sound slate" data-src="sounds/sotn/3-it-was-not-by-my-hand-that-i-am-once-again-given-flesh.ogg">
            <div>It was not by my hand that I am once again given flesh.</div>
        </button>
        <button class="sound slate" data-src="sounds/sotn/4-i-was-called-here-by-humans.ogg">
            <div>I was called here by <i>humans</i> who wished to pay <i>me</i> tribute.</div>
        </button>
        <button class="sound blue" data-src="sounds/sotn/5-tribute.ogg">
            <div><i>Tribute?</i></div>
        </button>
        <button class="sound blue" data-src="sounds/sotn/6-you-steal-mens-souls.ogg">
            <div>You steal men's <i>souls</i> and make them your slaves!</div>
        </button>
        <button class="sound slate" data-src="sounds/sotn/7-perhaps-the-same-could-be-said-of-all-religions.ogg">
            <div>Perhaps the same could be said of all religions!</div>
        </button>
        <button class="sound blue" data-src="sounds/sotn/8-your-words-are-as-empty-as-your-soul.ogg">
            <div>Your words are as empty as your soul!</div>
        </button>
        <button class="sound blue" data-src="sounds/sotn/9-mankind-ill-needs-a-savior-such-as-you.ogg">
            <div>Mankind ill needs a savior such as you!</div>
        </button>
        <button class="sound slate" data-src="sounds/sotn/10-what-is-a-man.ogg">
            <div><i>What is a man?!</i></div>
        </button>
        <button class="sound slate" data-src="sounds/sotn/11-glass-crash.ogg">
            <div class="img" style="background-image:url('images/glass.png')"></div>
            <div class="hidden">*Glass shatters.*</div>
        </button>
        <button class="sound slate" data-src="sounds/sotn/12-a-miserable-little-pile-of-secrets.ogg">
            <div>A miserable little pile of <i>secrets!</i></div>
        </button>
        <button class="sound slate" data-src="sounds/sotn/13-but-enough-talk.ogg">
            <div>But enough talk!</div>
        </button>
        <button class="sound slate" data-src="sounds/sotn/14-have-at-you.ogg">
            <div>Have at you!</div>
        </button>
    </div>
    <audio id="silence" src="sounds/0ms.ogg" loop></audio>
    <audio id="preload" src="" muted></audio>
<script>
const buttons = document.querySelectorAll('button.sound'),
      silence = document.getElementById('silence'),
      loader = document.getElementById('preload');

function toast(text) {
    let e = document.createElement('div');
    e.className = 'toast';
    document.body.appendChild(e);
    e.textContent = text;
    setTimeout(() => {
        e.remove();
    }, 5000);
}

function preload(element) {
    if (!element.getAttribute('data-preloaded')) {
            element.setAttribute('data-preloaded', "True");
            let link = document.createElement('link');
            link.rel = 'preload';
            link.href = element.getAttribute('data-src');
            link.as = 'audio';
            document.head.appendChild(link)
            loader.src = element.getAttribute('data-src');
        }
}

function playSound(e) {
    let audio = document.createElement('audio');
    audio.src = e.currentTarget.getAttribute('data-src');
    document.body.appendChild(audio);

    // delete audio element after playback
    audio.addEventListener('ended', (e) => {
        e.currentTarget.remove();
    });

    audio.play();
}

// preload everything button
document.getElementById('preload').addEventListener('click', (e) => {
    for (let button of buttons) {
        preload(button);
        e.currentTarget.remove();
    }
});

// fix bug button
document.getElementById('bug').addEventListener('click', (e) => {
    silence.play();
    e.currentTarget.remove();    
});

// stop all sounds button
document.getElementById('stop').addEventListener('click', () => {
    for (let audio of document.querySelectorAll('audio')) {
        audio.pause();
        audio.remove();
    }
});

for (let button of buttons) {
    // preload sound on mouse hover
    button.addEventListener('mouseenter', (e) => {
        preload(e.currentTarget);
    });
    // preload on button focus
    button.addEventListener('focus', (e) => {
        preload(e.currentTarget);
    });

    // play audio
    button.addEventListener('mousedown', (e) => {
        if (e.buttons == 1) {
            playSound(e);
        } else if (e.buttons == 2) {
            navigator.clipboard.writeText(location.origin + '/soundboard/' + e.currentTarget.getAttribute('data-src'));
            toast('Copied link to clipboard.');
        }
    });
    button.addEventListener('contextmenu', (e) => {
        e.preventDefault();
    })
    button.addEventListener('keydown', (e) => {
        if(e.keyCode === 32 || e.keyCode === 13) playSound(e)
    });
}
</script>
</body>
</html>